import{j as t,C as g,s as w,a as v}from"./SearchCard.2ZV4tg2x.js";import{r as n}from"./index.Cd_vQiNd.js";import"./config.DwtZdvr-.js";const C=({posts:d})=>{const[c,r]=n.useState(!1),[o,u]=n.useState("");n.useEffect(()=>{const e=()=>r(!0),s=()=>r(!1);return window.addEventListener("openModal",e),window.addEventListener("closeModal",s),()=>{window.removeEventListener("openModal",e),window.removeEventListener("closeModal",s)}},[]);const i=o.trim()===""?[]:d.filter(e=>{const s=o.toLowerCase(),x=e.data.title.toLowerCase(),h=e.data.description.toLowerCase(),p=e.data.difficulty?.toLowerCase(),f=e.data.tags.map(a=>a.toLowerCase());return x.includes(s)||h.includes(s)||p.includes(s)||f.some(a=>a.includes(s))}),l=()=>{o.trim()&&(window.location.href=`/search?q=${encodeURIComponent(o.trim())}`)},m=e=>{e.key==="Enter"&&l()};return c&&t.jsx("div",{className:"fixed inset-0 bg-silicon-1000/50 backdrop-blur-sm z-40 flex items-center justify-center",onClick:()=>r(!1),children:t.jsxs("div",{className:"bg-silicon-50 rounded-xl shadow-xl max-w-3xl w-full p-5 sm:p-10 relative h-4/5 sm:h-2/3 overflow-y-auto",onClick:e=>e.stopPropagation(),children:[t.jsx("button",{onClick:()=>r(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-800","aria-label":"Close search modal",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",className:"size-5",children:[t.jsx("path",{d:"M18 6 6 18"}),t.jsx("path",{d:"m6 6 12 12"})]})}),t.jsx("h2",{className:"font-bold text-3xl mb-6",children:"Search"}),t.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[t.jsx("input",{type:"text",value:o,onChange:e=>u(e.target.value),onKeyDown:m,placeholder:"Search posts...",className:"flex-grow px-4 py-2 border-2 border-silicon-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{onClick:l,className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-transparent hover:text-blue-600 border-2 border-blue-600 transition duration-200",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2.5",stroke:"currentColor",className:"size-4","data-slot":"icon","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})})})]}),t.jsx("div",{children:i.length>0?t.jsx("div",{className:"grid gap-8 sm:grid-cols-1 md:grid-cols-2 text-left",children:i.map(e=>t.jsx(g,{frontmatter:e.data},w(e.data.title)))}):t.jsx("img",{alt:"search",src:v.src,className:"size-60 mx-auto opacity-70"})})]})})};export{C as default};
